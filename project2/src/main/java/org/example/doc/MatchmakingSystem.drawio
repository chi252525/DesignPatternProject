<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.7.17 Chrome/128.0.6613.36 Electron/32.0.1 Safari/537.36" version="24.7.17">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="1781" dy="1843" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-27" value="Individual" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="270" y="200" width="200" height="208" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-28" value="+ID&lt;span style=&quot;background-color: initial;&quot;&gt;: int {&amp;gt;0}&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="eFyp-nNnE1RlBhE3IVi3-27" vertex="1">
          <mxGeometry y="26" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-31" value="&lt;span style=&quot;background-color: initial;&quot;&gt;+gender: String {MALE, FEMALE}&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="eFyp-nNnE1RlBhE3IVi3-27" vertex="1">
          <mxGeometry y="52" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-32" value="&lt;span style=&quot;background-color: initial;&quot;&gt;+age: int {&amp;gt;=18}&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="eFyp-nNnE1RlBhE3IVi3-27" vertex="1">
          <mxGeometry y="78" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-33" value="&lt;span style=&quot;background-color: initial;&quot;&gt;+intro: String {0~200}&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="eFyp-nNnE1RlBhE3IVi3-27" vertex="1">
          <mxGeometry y="104" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-44" value="&lt;span style=&quot;background-color: initial;&quot;&gt;+List&amp;lt;Habits&amp;gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="eFyp-nNnE1RlBhE3IVi3-27" vertex="1">
          <mxGeometry y="130" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-52" value="+Coord" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="eFyp-nNnE1RlBhE3IVi3-27" vertex="1">
          <mxGeometry y="156" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-5" value="match(Individual individual)" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="eFyp-nNnE1RlBhE3IVi3-27">
          <mxGeometry y="182" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-53" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;" parent="eFyp-nNnE1RlBhE3IVi3-27" target="eFyp-nNnE1RlBhE3IVi3-46" edge="1">
          <mxGeometry x="0.0941" y="7" relative="1" as="geometry">
            <mxPoint x="120" y="220" as="sourcePoint" />
            <mxPoint x="133" y="310" as="targetPoint" />
            <Array as="points">
              <mxPoint x="190" y="220" />
              <mxPoint x="190" y="210" />
              <mxPoint x="143" y="210" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-38" value="Habits" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="170" y="570" width="140" height="52" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-39" value="+ item: string" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="eFyp-nNnE1RlBhE3IVi3-38" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-42" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" target="eFyp-nNnE1RlBhE3IVi3-38" edge="1">
          <mxGeometry x="-0.8056" y="-20" relative="1" as="geometry">
            <mxPoint x="370" y="412" as="sourcePoint" />
            <mxPoint x="229.97" y="562" as="targetPoint" />
            <Array as="points">
              <mxPoint x="370" y="482" />
              <mxPoint x="240" y="482" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-46" value="Coord" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="360" y="570" width="140" height="78" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-47" value="+ x: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="eFyp-nNnE1RlBhE3IVi3-46" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-49" value="+ y: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="eFyp-nNnE1RlBhE3IVi3-46" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-54" value="MatchmakingSystem" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-20" y="240" width="210" height="82" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-56" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="eFyp-nNnE1RlBhE3IVi3-54" vertex="1">
          <mxGeometry y="26" width="210" height="8" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-57" value="+ match(individual: Individual): Individual" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="eFyp-nNnE1RlBhE3IVi3-54" vertex="1">
          <mxGeometry y="34" width="210" height="48" as="geometry" />
        </mxCell>
        <mxCell id="eFyp-nNnE1RlBhE3IVi3-60" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;&lt;font&gt;ＯＯＡ設計圖&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;fontStyle=4;fontColor=#FF0000;labelBackgroundColor=default;labelBorderColor=#FF3333;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-90" y="80" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-0" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" target="eFyp-nNnE1RlBhE3IVi3-27">
          <mxGeometry x="-1" y="3" relative="1" as="geometry">
            <mxPoint x="190" y="284" as="sourcePoint" />
            <mxPoint x="240" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="HiU67exIvOzxICEcUAhn-7" target="HiU67exIvOzxICEcUAhn-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-7" value="match 會實作以下不同方法：&lt;div&gt;&lt;div&gt;1. **距離先決 (Distance-Based)**：&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; - 配對與自己距離最近的對象（若距離相同，選擇編號較小的對象）。&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; - 距離計算公式：&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ```&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; (x - x&#39;)^2 + (y - y&#39;)^2&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ```&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2. **興趣先決 (Habit-Based)**：&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; - 配對與自己興趣擁有最大交集量的對象（若興趣交集量相同，選擇編號較小的對象）。&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;### 反向策略 (Reverse)&lt;/div&gt;&lt;div&gt;- **反向距離先決**：配對與自己距離最遠的對象。&lt;/div&gt;&lt;div&gt;- **反向興趣先決**：配對與自己興趣擁有最小交集量的對象。&lt;/div&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="590" y="280" width="430" height="250" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-13" value="&lt;h3&gt;Forces 1: 行為變動性 (Behavioral Variability)&lt;/h3&gt;&lt;h3&gt;&lt;span style=&quot;background-color: initial; font-size: 16px; font-weight: normal;&quot;&gt;系統必須根據不同的配對邏輯（例如，距離先決、興趣先決等）來選擇最適合的配對對象。未來可能會有更多的配對策略，例如基於年齡的配對、性別的配對等。這些配對邏輯會變化，而我們希望能夠靈活地擴展策略，而不需要修改現有的代碼。&lt;/span&gt;&lt;/h3&gt;&lt;h3&gt;&lt;strong style=&quot;background-color: initial; font-size: 16px;&quot;&gt;強制需求&lt;/strong&gt;&lt;span style=&quot;background-color: initial; font-size: 16px; font-weight: normal;&quot;&gt;：允許未來新增各種配對策略，避免修改現有代碼。&lt;/span&gt;&lt;/h3&gt;&lt;h3&gt;&lt;strong style=&quot;background-color: initial; font-size: 16px;&quot;&gt;行為變化&lt;/strong&gt;&lt;span style=&quot;background-color: initial; font-size: 16px; font-weight: normal;&quot;&gt;：配對策略需要根據不同的行為變種來選擇。&lt;/span&gt;&lt;/h3&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;labelBackgroundColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="620" y="20" width="420" height="130" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-18" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;notch=0;strokeColor=#FF0000;fillColor=#FF3333;rotation=-45;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="517.64" y="370.86" width="357" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-19" value="&lt;h3&gt;Problem (衝突點)&lt;/h3&gt;&lt;p&gt;由於配對邏輯（如距離先決、興趣先決）和反向邏輯（如最遠距離、最少興趣交集）都會變化，但我們希望在添加新策略時不修改現有的類別，這就產生了衝突：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;我們需要支持多種策略和反向策略的切換，但不希望在每個策略中直接引入反向邏輯（如&lt;code&gt;reverse&lt;/code&gt;標誌），否則會導致類別數量急劇增加（組合爆炸），並且每個策略類別內部會有不必要的複雜度。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;解決方案是將每種配對策略（包括正向和反向）抽象為單獨的策略類別，這樣可以避免組合爆炸，同時保證未來擴展新策略時，不需要修改現有代碼。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;解決方案：策略模式 (Strategy Pattern)&lt;/h3&gt;&lt;p&gt;策略模式的核心是將變化的行為抽象化，並將其封裝在不同的策略類別中。這樣就可以在不修改原有代碼的情況下，靈活地增加或修改配對策略。&lt;/p&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="550" y="600" width="1100" height="200" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-20" value="Individual" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="590" y="888" width="200" height="182" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-21" value="+ID&lt;span style=&quot;background-color: initial;&quot;&gt;: int {&amp;gt;0}&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="HiU67exIvOzxICEcUAhn-20">
          <mxGeometry y="26" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-22" value="&lt;span style=&quot;background-color: initial;&quot;&gt;+gender: String {MALE, FEMALE}&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="HiU67exIvOzxICEcUAhn-20">
          <mxGeometry y="52" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-23" value="&lt;span style=&quot;background-color: initial;&quot;&gt;+age: int {&amp;gt;=18}&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="HiU67exIvOzxICEcUAhn-20">
          <mxGeometry y="78" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-24" value="&lt;span style=&quot;background-color: initial;&quot;&gt;+intro: String {0~200}&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="HiU67exIvOzxICEcUAhn-20">
          <mxGeometry y="104" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-25" value="&lt;span style=&quot;background-color: initial;&quot;&gt;+List&amp;lt;Habits&amp;gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="HiU67exIvOzxICEcUAhn-20">
          <mxGeometry y="130" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-26" value="+Coord" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="HiU67exIvOzxICEcUAhn-20">
          <mxGeometry y="156" width="200" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-29" value="Coord" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="650" y="1210" width="140" height="78" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-30" value="+ x: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="HiU67exIvOzxICEcUAhn-29">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-31" value="+ y: int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="HiU67exIvOzxICEcUAhn-29">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-32" value="MatchmakingSystem" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="230" y="890" width="210" height="178" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-33" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" vertex="1" parent="HiU67exIvOzxICEcUAhn-32">
          <mxGeometry y="26" width="210" height="8" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-34" value="+&amp;nbsp;&lt;span style=&quot;text-align: center;&quot;&gt;MatchingmakingStrategy&lt;/span&gt;&lt;b style=&quot;text-align: center;&quot;&gt; &lt;/b&gt;&lt;span style=&quot;text-align: center;&quot;&gt;m&lt;/span&gt;&lt;span style=&quot;text-align: center;&quot;&gt;atchingmakingStrategy&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="HiU67exIvOzxICEcUAhn-32">
          <mxGeometry y="34" width="210" height="48" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-44" value="+&amp;nbsp;&lt;span style=&quot;text-align: center;&quot;&gt;setStrategy(M&lt;/span&gt;&lt;span style=&quot;text-align: center;&quot;&gt;atchingmakingStrategy&lt;/span&gt;&lt;b style=&quot;text-align: center;&quot;&gt;&amp;nbsp;&lt;/b&gt;&lt;div&gt;&lt;span style=&quot;text-align: center;&quot;&gt;m&lt;/span&gt;&lt;span style=&quot;text-align: center;&quot;&gt;atchingmakingStrategy)&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="HiU67exIvOzxICEcUAhn-32">
          <mxGeometry y="82" width="210" height="48" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-45" value="+&amp;nbsp;&lt;span style=&quot;text-align: center;&quot;&gt;setStrategy(M&lt;/span&gt;&lt;span style=&quot;text-align: center;&quot;&gt;atchingmakingStrategy&lt;/span&gt;&lt;b style=&quot;text-align: center;&quot;&gt;&amp;nbsp;&lt;/b&gt;&lt;div&gt;&lt;span style=&quot;text-align: center;&quot;&gt;m&lt;/span&gt;&lt;span style=&quot;text-align: center;&quot;&gt;atchingmakingStrategy)&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="HiU67exIvOzxICEcUAhn-32">
          <mxGeometry y="130" width="210" height="48" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-36" value="&lt;h3 style=&quot;font-size: 16px;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Forces 2: 反向策略的擴展性 (Reversibility/Extensibility)&lt;/font&gt;&lt;/h3&gt;&lt;ul style=&quot;font-size: 16px;&quot;&gt;&lt;li style=&quot;&quot;&gt;&lt;p style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;strong&gt;描述&lt;/strong&gt;：在現有的配對邏輯（如距離先決、興趣先決）基礎上，我們還需要支持反向策略的實現（如最遠距離、最少興趣交集等）。但是，不能在配對邏輯的類別中直接添加“反向”標識或參數，否則會造成代碼膨脹和可擴展性的問題。&lt;/font&gt;&lt;/p&gt;&lt;ul style=&quot;&quot;&gt;&lt;li style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;strong&gt;強制需求&lt;/strong&gt;：反向策略應該與正向策略分開，避免在每個策略中引入一個布林值或參數來處理反向邏輯。&lt;/font&gt;&lt;/li&gt;&lt;li style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;strong style=&quot;&quot;&gt;行為變化&lt;/strong&gt;：反向邏輯不應與正向邏輯混合，保持兩者的獨立性。&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="100" y="-170" width="480" height="270" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-37" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="HiU67exIvOzxICEcUAhn-32" target="HiU67exIvOzxICEcUAhn-20">
          <mxGeometry x="-1" y="3" relative="1" as="geometry">
            <mxPoint x="680" y="1060" as="sourcePoint" />
            <mxPoint x="650" y="890" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-41" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;MatchingmakingStrategy&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ match(Individual indi, List&amp;lt;Individual&amp;gt; indis): Individuals&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="890" y="914" width="190" height="106" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-42" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="HiU67exIvOzxICEcUAhn-20" target="HiU67exIvOzxICEcUAhn-41">
          <mxGeometry x="-1" y="3" relative="1" as="geometry">
            <mxPoint x="770" y="1080" as="sourcePoint" />
            <mxPoint x="930" y="1080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-43" value="delegate" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="HiU67exIvOzxICEcUAhn-42">
          <mxGeometry x="-0.0538" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-46" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;HabitBasedMatchmakingStrategy&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ match(Individual indi, List&amp;lt;Individual&amp;gt; indis): Individuals&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1180" y="880" width="230" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-47" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;entryX=0.992;entryY=0.404;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="HiU67exIvOzxICEcUAhn-46" target="HiU67exIvOzxICEcUAhn-41">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1170" y="1050" as="sourcePoint" />
            <mxPoint x="1330" y="1050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-48" value="implement" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="HiU67exIvOzxICEcUAhn-47">
          <mxGeometry x="0.0706" y="5" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-49" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;HabitBasedMatchmakingStrategy&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ match(Individual indi, List&amp;lt;Individual&amp;gt; indis): Individuals&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1180" y="1008" width="230" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-50" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;ReverseMatchmakingStrategy&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ match(Individual indi, List&amp;lt;Individual&amp;gt; indis): Individuals&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1180" y="1140" width="230" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-51" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;entryX=0.984;entryY=0.646;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="HiU67exIvOzxICEcUAhn-49" target="HiU67exIvOzxICEcUAhn-41">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1172" y="1080" as="sourcePoint" />
            <mxPoint x="1070" y="1117" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-52" value="implement" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="HiU67exIvOzxICEcUAhn-51">
          <mxGeometry x="0.0706" y="5" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-53" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="HiU67exIvOzxICEcUAhn-50" target="HiU67exIvOzxICEcUAhn-41">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1200" y="940" as="sourcePoint" />
            <mxPoint x="1098" y="977" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-54" value="implement" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="HiU67exIvOzxICEcUAhn-53">
          <mxGeometry x="0.0706" y="5" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-55" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;&lt;font&gt;ＯＯD設計圖&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;labelBackgroundColor=default;labelBorderColor=#FF0000;fontStyle=4;fontColor=#FF3333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-100" y="790" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-57" value="依賴反轉實現步驟&lt;div style=&quot;font-size: 16px;&quot;&gt;&lt;br style=&quot;font-size: 16px;&quot;&gt;1. 封裝變化的行為：將不同的配對邏輯（如距離先決、興趣先決）分別實現為不同的策略類別，並確保這些策略類別能夠被靈活替換。&lt;/div&gt;&lt;div style=&quot;font-size: 16px;&quot;&gt;&lt;br style=&quot;font-size: 16px;&quot;&gt;2. 抽象共同行為：定義一個MatchmakingStrategy接口，將所有策略類別共通的行為match()方法）抽象化，確保策略的統一性。&lt;/div&gt;&lt;div style=&quot;font-size: 16px;&quot;&gt;&lt;br style=&quot;font-size: 16px;&quot;&gt;3. 委派策略行為：將配對系統中的配對邏輯委託給MatchmakingStrategy接口的具體實現類，這樣可以輕鬆地在運行時替換策略。&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1470" y="880" width="560" height="120" as="geometry" />
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-28" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="HiU67exIvOzxICEcUAhn-26" target="HiU67exIvOzxICEcUAhn-29">
          <mxGeometry x="0.0941" y="7" relative="1" as="geometry">
            <mxPoint x="710" y="1108" as="sourcePoint" />
            <mxPoint x="723" y="1198" as="targetPoint" />
            <Array as="points">
              <mxPoint x="780" y="1098" />
              <mxPoint x="723" y="1098" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HiU67exIvOzxICEcUAhn-12" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;notch=0;strokeColor=#FF0000;fillColor=#FF3333;rotation=101;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="420" y="360" width="210" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
